function addLoadEvent(b){var a=window.onload;window.onload="function"!=typeof window.onload?b:function(){a();b()}}function insertAfter(b,a){var c=a.parentNode;c.lastchild==a?parnet.appendChild(b):c.insertBefore(b,a.nextSibling)}function addClass(b,a){b.className=b.className?b.className+" "+a:a}function hightlightPage(b){if(!document.getElementsByTagName)return!1;b=document.getElementsByTagName("nav")[0].getElementsByTagName("a");for(var a=0;a<b.length;a++){var c=b[a].getAttribute("href");-1!=window.location.href.indexOf(c)&&(b[a].className="here",c=b[a].lastChild.nodeValue.toLowerCase(),document.body.setAttribute("id",c))}}addLoadEvent(hightlightPage);function moveElement(b,a,c,e){if(!document.getElementById||!document.getElementsByTagName)return!1;var f=document.getElementById(b);f.movement&&clearTimeout(f.movement);f.style.left||(f.style.left="0px");f.style.top||(f.style.top="0px");var d=parseInt(f.style.left),g=parseInt(f.style.top);if(d==a&&g==c)return!0;if(d<a)var h=Math.ceil((a-d)/10),d=d+h;d>a&&(h=Math.ceil((d-a)/10),d-=h);g<c&&(h=Math.ceil((c-g)/10),g+=h);g>c&&(h=Math.ceil((c-g)/10),g-=h);f.style.left=d+"px";f.style.top=g+"px";f.movement=setTimeout("moveElement('"+b+"',"+a+","+c+","+e+")",e)}function prepareSlideshow(){if(!document.getElementsByTagName||!document.getElementById||!document.getElementById("intro"))return!1;var b=document.getElementById("intro"),a=document.createElement("div");a.setAttribute("id","slideshow");var c=document.createElement("img");c.setAttribute("src","images/slideshow.gif");c.setAttribute("alt","a glimpse of what awaits you");c.setAttribute("id","preview");a.appendChild(c);insertAfter(a,b);c=document.createElement("img");c.setAttribute("src","images/frame.gif");c.setAttribute("alt","");c.setAttribute("id","frame");a.appendChild(c);for(var b=b.getElementsByTagName("a"),e,a=0;a<b.length;a++)b[a].onmouseover=function(){e=this.getAttribute("href");-1!=e.indexOf("index.html")&&moveElement("preview",0,0,5);-1!=e.indexOf("about.html")&&moveElement("preview",-150,0,5);-1!=e.indexOf("photos.html")&&moveElement("preview",-300,0,5);-1!=e.indexOf("live.html")&&moveElement("preview",-450,0,5);-1!=e.indexOf("contact.html")&&moveElement("preview",-600,0,5)}}addLoadEvent(prepareSlideshow);function showSection(b){for(var a=document.getElementsByTagName("section"),c=0;c<a.length;c++)a[c].getAttribute("id")!=b?a[c].style.display="none":a[c].style.display="block"}function prepareInternalnav(){if(!document.getElementsByTagName)return!1;var b=document.getElementsByTagName("article");if(0==b.length)return!1;b=b[0].getElementsByTagName("nav");if(0==b.length)return!1;for(var b=b[0].getElementsByTagName("a"),a=0;a<b.length;a++){var c=b[a].getAttribute("href").split("#")[1];document.getElementById(c)&&(document.getElementById(c).style.display="none",b[a].destination=c,b[a].onclick=function(){showSection(this.destination);return!1})}}addLoadEvent(prepareInternalnav);function showPic(b){if(!document.getElementById("placeholder"))return!0;var a=b.getAttribute("href");document.getElementById("placeholder").setAttribute("src",a);if(!document.getElementById("description"))return!1;b=b.getAttribute("title")?b.getAttribute("title"):"";a=document.getElementById("description");3==a.firstChild.nodeType&&(a.firstChild.nodeValue=b);return!1}function preparePlaceholder(){if(!(document.createElement&&document.createTextNode&&document.getElementById&&document.getElementById("imagegallery")))return!1;var b=document.createElement("img");b.setAttribute("id","placeholder");b.setAttribute("src","images/placeholder.gif");b.setAttribute("alt","my image gallery");var a=document.createElement("p");a.setAttribute("id","description");var c=document.createTextNode("Choose an image");a.appendChild(c);c=document.getElementById("imagegallery");insertAfter(a,c);insertAfter(b,a)}function prepareGallery(){if(!document.getElementsByTagName||!document.getElementById||!document.getElementById("imagegallery"))return!1;for(var b=document.getElementById("imagegallery").getElementsByTagName("a"),a=0;a<b.length;a++)b[a].onclick=function(){return showPic(this)},b[a].onkeypress=b[a].onclick}addLoadEvent(preparePlaceholder);addLoadEvent(prepareGallery);function stripeTables(){if(!document.getElementsByTagName)return!1;for(var b=document.getElementsByTagName("table"),a=0;a<b.length;a++)for(var c=!1,e=b[a].getElementsByTagName("tr"),f=0;f<e.length;f++)1==c?(addClass(e[f],"odd"),c=!1):c=!0}function highlightRows(){if(!document.getElementsByTagName)return!1;for(var b=document.getElementsByTagName("tr"),a=0;a<b.length;a++)b[a].oldClassName=b[a].className,b[a].onmouseover=function(){addClass(this,"highlight")},b[a].onmouseout=function(){this.className=this.oldClassName}}function displayAbbreviations(){if(!document.getElementsByTagName||!document.createElement||!document.createTextNode)return!1;var b=document.getElementsByTagName("abbr");if(1>b.length)return!1;for(var a=[],c=0;c<b.length;c++){var e=b[c];if(!(1>e.childNodes.length)){var f=e.getAttribute("title"),d=e.lastChild.nodeValue;a[d]=f}}b=document.createElement("dl");for(d in a)f=a[d],c=document.createElement("dt"),e=document.createTextNode(d),c.appendChild(e),e=document.createElement("dd"),f=document.createTextNode(f),e.appendChild(f),b.appendChild(c),b.appendChild(e);if(1>b.childNodes.length)return!1;a=document.createElement("h3");d=document.createTextNode("Abbreviations");a.appendChild(d);d=document.getElementsByTagName("article");if(0==d.length)return!1;d=d[0];d.appendChild(a);d.appendChild(b)}addLoadEvent(stripeTables);addLoadEvent(highlightRows);addLoadEvent(displayAbbreviations);function focusLabels(){if(!document.getElementsByTagName)return!1;for(var b=document.getElementsByTagName("label"),a=0;a<b.length;a++)b[a].getAttribute("for")&&(b[a].onclick=function(){var a=this.getAttribute("for");if(!document.getElementById(a))return!1;document.getElementById(a).focus()})}addLoadEvent(focusLabels);function resetFields(b){if(!Modernizr.input.placeholder)for(var a=0;a<b.elements.length;a++){var c=b.elements[a];"submit"!=c.type&&(c.placeholder||c.getAttribute("placeholder"))&&(c.onfocus=function(){var a=this.placeholder||this.getAttribute("placeholder");this.value==a&&(this.value=this.className="")},c.onblur=function(){""==this.value&&(this.className="placeholder",this.value=this.placeholder||this.getAttribute("placeholder"))},c.onblur())}}function validateForm(){for(var b=0;b<whichform.elements.length;b++){var a=whichform.elements[b];if("required"==a.required&&!isFilled(a))return alert("Please fill in the "+a.name+" field."),!1;if("email"==a.type&&!isEmail(a))return alert("The "+a.name+" field must be a valid email address."),!1}return!0}function getHTTPObject(){if("undefined"==typeof XMLHttpRequest)return XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(b){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(b){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(b){}return!1},new XMLHttpRequest}function displayAjaxLoading(b){for(;b.hasChildNodes();)b.removeChild(b.lastchild);var a=document.createElement("img");a.setAttribute("src","images/loading.gif");a.setAttribute("alt","Loading...");b.appendChild(a)}function submitFormWithAjax(b,a){var c=getHTTPObject();if(!c)return!1;displayAjaxLoading(a);for(var e=[],f,d=0;d<b.elements.length;d++)f=b.elements[d],e[d]=f.name+"="+encodeURIComponent(f.value);e=e.join("&");c.open("POST",b.getAttribute("action"),!0);c.setRequestHeader("Content-type","application/x-www-form-urlencoded");c.onreadystatechange=function(){if(4==c.readyState)if(200==c.status||0==c.status){var b=c.responseText.match(/<article>([\s\S]+)<\/article>/);0<b.length?a.innerHTML=b[1]:a.innnerHTML="<p>Oops,there was an error.Sorry.</p>"}else a.innnerHTML="<p>"+c.statusText+"</p>"};c.send(e);return!0}function prepareForms(){for(var b=0;b<document.forms.length;b++){var a=document.forms[b];resetFields(a);a.onsubmit=function(){if(!validateForm(this))return!1;var a=document.getElementsByTagName("article")[0];return submitFormWithAjax(this,a)?!1:!0}}}addLoadEvent(prepareForms);